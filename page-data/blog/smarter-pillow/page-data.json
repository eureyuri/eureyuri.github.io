{"componentChunkName":"component---src-templates-blog-post-js","path":"/blog/smarter-pillow","result":{"data":{"contentfulBlog":{"title":"Smarter Pillow","description":{"description":"Smarter Pillow is the next generation solution for quality sleep. It utilizes a weight sensor and microphone to track your movement and snoring to automatically adjust the pillow so that you can easily breathe while asleep."},"slug":"smarter-pillow","body":{"childMarkdownRemark":{"html":"<h2>Overview</h2>\n<p>Combating sleeping disorders and enhancing the quality of sleep using Internet of Things.</p>\n<p>Smarter Pillow is the next generation solution for quality sleep. It utilizes a weight sensor and microphone to track your movement and snoring to automatically adjust the pillow so that you can easily breathe while asleep. Users can also always track how well they have been sleeping on any day. We have also developed a new way to gently wake up the user -- shake and wake.</p>\n<h2>Motivation</h2>\n<div class=\"quotes\" style=\"display: flex; width: 100%; justify-content: space-around; margin-bottom: 2rem;\">\n\t\t\t\t\t\t\t\t<div class=\"quote\" style=\"width: 45%;\">\n\t\t\t\t\t\t\t\t\t\"We spend about\n\t\t\t\t\t\t\t\t\t<span class=\"quote__emphasis\" style=\"color: #3173da;\n    font-weight: bold;\">one-third of our life</span>\n\t\t\t\t\t\t\t\t\t either sleeping or attempting to do so\"\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div class=\"quote\" style=\"width: 45%;\">\n\t\t\t\t\t\t\t\t\t\"<span class=\"quote__emphasis\" style=\"color: #3173da;\n    font-weight: bold;\">50 - 70 million</span> US adults have a sleep disorder.\n\t\t\t\t\t\t\t\t\t<span class=\"quote__emphasis\" style=\"color: #3173da;\n    font-weight: bold;\">48.0% report snoring</span>.\"\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n<p>Sleeping is a part of everyday life, yet sleeping disorder is a very common issue. One of the common disorder is snoring. Snoring occurs when breathing is partially obstructed and is also considered as a respiratory failure. Not only does it affect your sleeping behavior, but it also affects the sleep quality of your loved ones. This is where we came up with the idea of a Smarter Pillow for better sleep and to combat sleeping disorder, specifically snoring.</p>\n<h2>System</h2>\n<p>Our system constitutes of a microcontroller, ESP8266, with a weight sensor, smart plugs with air pumps and air bags, frontend android application, and a backend server.\nThe details of our specification can be found in our <a href=\"https://github.com/eureyuri/smarter-pillow/blob/main/README.md\">README (external link)</a></p>\n<h3>Architecture</h3>\n<p><img src=\"//images.ctfassets.net/t1i3p2wynjf8/4eFjxlP9KJKwBnCwCgwYAv/efa8f38d9a7a36948d7308b897814685/architecture.png\" alt=\"smarter pillow architecture\">\nOur frontend is an Android application written in Java. Here, we display the daily statistics and display visualization of the collected data. It also deals with the setting and canceling of the alarm as well as calling the backend for starting certain processes and collecting sound data through the builtin microphone while sleeping.</p>\n<p>The embedded system component is implemented using the ESP8266 and micropython. It is connected to the weight sensor and sends the collected data to our backend. For the pillow, we also have the air pumps and air bags connected for lifting the head up and down. The air pump is connected to a smarter plug that is turned on/off with the utilization of the IFTTT API. We send the requests to IFTTT to turn on/off when we observe snoring or the alarm is on.</p>\n<p>Lastly, the backend Flask server communicates the frontend Android app, ESP8266, IFTTT API, and the mongoDB database. We have our Flask server running on the EC2 linux instance together with the MongoDB database. It is also in charge of doing the calculations for our analytics.</p>\n<h2>Technical Components</h2>\n<h3>Hardware</h3>\n<ul>\n<li>HUZZAH ESP8266</li>\n<li>Half-bridge strain gauge Load Cell Body Scale Weighting Sensor</li>\n<li>HX711 Amplifier</li>\n<li>Kasa Smart Plugs</li>\n<li>Air pumps</li>\n<li>Air bags</li>\n</ul>\n<h3>Software</h3>\n<ul>\n<li>Python Flask Server</li>\n<li>Android Application</li>\n<li>AWS EC2</li>\n<li>MongoDB</li>\n<li>IFTTT</li>\n</ul>\n<h2>Results</h2>\n<h3>Hardware setup</h3>\n<p><img src=\"//images.ctfassets.net/t1i3p2wynjf8/413gpmtbCz66Ociz0gQr7Y/ee02dd44a01e5d68fa8c187e86ce669b/hardware.png\" alt=\"smarter pillow hardware\"></p>\n<h3>Android App</h3>\n<p><img src=\"//images.ctfassets.net/t1i3p2wynjf8/2JUdSkLF7Dxhq2FEQg0532/ff93b3fd1dc59f6291a1ab387ba3b249/____________________________2021-05-04_16.53.13.png\" alt=\"smarter pillow app\">\nThe home tab allows the user to set the alarm and cancel the alarm. When the user sets the alarm, our system will automatically start collecting data related to snoring and movement. When we detect snoring or the alarm goes off, we adjust the pillow height. We also see the statistics of yesterday's sleep that has been calculated by our backend Flask server.</p>\n<p>The data tab displays the sleep statistics such as the snoring and movement behavior of any day.</p>\n<h3>Snore Detection</h3>\n<p><img src=\"//images.ctfassets.net/t1i3p2wynjf8/3jBaWXvslBIWk1PxR68rju/9a3f01e8b66683ff2bb353ee80b11bb6/snore_console.png\" alt=\"smarter pillow snore console log\">\nOnce the user starts sleeping, we continuously collect data in the background.</p>\n<h2>References</h2>\n<ul>\n<li>PubMed.gov: We spend about one-third of our life either sleeping or attempting to do so <a href=\"https://pubmed.ncbi.nlm.nih.gov/21056174/\">https://pubmed.ncbi.nlm.nih.gov/21056174/</a></li>\n<li>American Sleep Association: Sleep and Sleep Disorder Statistics <a href=\"https://www.sleepassociation.org/about-sleep/sleep-statistics/\">https://www.sleepassociation.org/about-sleep/sleep-statistics/</a></li>\n<li>The influence of head-of-bed elevation in patients with obstructive sleep apnea <a href=\"https://www.ncbi.nlm.nih.gov/pmc/articles/PMC5700252/\">https://www.ncbi.nlm.nih.gov/pmc/articles/PMC5700252/</a></li>\n<li>Interfacing with HX711 <a href=\"https://github.com/robert-hh/hx711/tree/1ca0d87b58eb47f4810241a01e4181880e891b29\">https://github.com/robert-hh/hx711/tree/1ca0d87b58eb47f4810241a01e4181880e891b29</a></li>\n<li>50kg Load Cells with HX711 and Arduino. 4x, 2x, 1x Diagrams. <a href=\"https://circuitjournal.com/50kg-load-cells-with-HX711\">https://circuitjournal.com/50kg-load-cells-with-HX711</a></li>\n</ul>"}},"heroImage":{"file":{"url":"//images.ctfassets.net/t1i3p2wynjf8/1prXbYBa46KLOIhJK60rZF/ff5389e07f24fb2b70d5f1f36e330e39/____________________________2021-04-30_14.32.42.png"}}}},"pageContext":{"slug":"smarter-pillow"}},"staticQueryHashes":[]}